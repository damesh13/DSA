import java.util.Scanner;

class Node {
    int data;
    Node next;
    Node prev;

    Node(int value) {
        data = value;
        next = null;
        prev = null;
    }
}

class DLL {
    Node head;

    DLL() {
        head = null;
    }

    void create(int value) {
        Node newNode = new Node(value);
        if (head == null) {
            head = newNode;
        } else {
            Node temp = head;
            while (temp.next != null) {
                temp = temp.next;
            }
            temp.next = newNode;
            newNode.prev = temp;
        }
    }

    void insertAtBeginning(int value) {
        Node newNode = new Node(value);
        if (head == null) {
            head = newNode;
        } else {
            newNode.next = head;
            head.prev = newNode;
            head = newNode;
        }
    }

    void insertBefore(int value, int element) {
        if (head == null) {
            System.out.println("The list is empty.");
            return;
        }

        Node newNode = new Node(value);
        Node temp = head;

        while (temp != null && temp.data != element) {
            temp = temp.next;
        }

        if (temp == null) {
            System.out.println("Element not found.");
        } else {
            newNode.next = temp;
            newNode.prev = temp.prev;
            if (temp.prev != null) {
                temp.prev.next = newNode;
            } else {
                head = newNode;
            }
            temp.prev = newNode;
        }
    }

    void insertAfter(int value, int element) {
        if (head == null) {
            System.out.println("The list is empty.");
            return;
        }

        Node newNode = new Node(value);
        Node temp = head;

        while (temp != null && temp.data != element) {
            temp = temp.next;
        }

        if (temp == null) {
            System.out.println("Element not found.");
        } else {
            newNode.next = temp.next;
            newNode.prev = temp;
            if (temp.next != null) {
                temp.next.prev = newNode;
            }
            temp.next = newNode;
        }
    }

    void insertAtEnd(int value) {
        Node newNode = new Node(value);
        if (head == null) {
            head = newNode;
        } else {
            Node temp = head;
            while (temp.next != null) {
                temp = temp.next;
            }
            temp.next = newNode;
            newNode.prev = temp;
        }
    }

    void deleteAtFirst() {
        if (head == null) {
            System.out.println("The list is empty.");
        } else {
            head = head.next;
            if (head != null) {
                head.prev = null;
            }
        }
    }

    void deleteAtSpecified(int value) {
        if (head == null) {
            System.out.println("The list is empty.");
            return;
        }

        Node temp = head;

        while (temp != null && temp.data != value) {
            temp = temp.next;
        }

        if (temp == null) {
            System.out.println("Element not found.");
        } else {
            if (temp.prev != null) {
                temp.prev.next = temp.next;
            } else {
                head = temp.next;
            }

            if (temp.next != null) {
                temp.next.prev = temp.prev;
            }
        }
    }

    void deleteAtLast() {
        if (head == null) {
            System.out.println("The list is empty.");
        } else {
            Node temp = head;
            while (temp.next != null) {
                temp = temp.next;
            }
            if (temp.prev != null) {
                temp.prev.next = null;
            } else {
                head = null;
            }
        }
    }

    boolean find(int value) {
        Node temp = head;
        while (temp != null) {
            if (temp.data == value) {
                return true;
            }
            temp = temp.next;
        }
        return false;
    }

    void display() {
        Node temp = head;
        while (temp != null) {
            System.out.print(temp.data + " ");
            temp = temp.next;
        }
        System.out.println();
    }

    public static void main(String[] args) {
        DLL dll = new DLL();
        Scanner sc = new Scanner(System.in);
        while (true) {
            System.out.println("1. Create the list \n2. Insert at beginning \n3. Insert before element \n4. Insert after element \n5. Insert at end \n6. Display the list \n7. Delete first element \n8. Delete specified element \n9. Delete last element \n10. Find element \n11. Exit");
            int choice = sc.nextInt();
            if (choice == 1) {
                System.out.println("Enter the element: ");
                int value = sc.nextInt();
                dll.create(value);
            } else if (choice == 2) {
                System.out.println("Enter the value to insert at beginning: ");
                int value = sc.nextInt();
                dll.insertAtBeginning(value);
            } else if (choice == 3) {
                System.out.println("Enter the value to insert: ");
                int value = sc.nextInt();
                System.out.println("Enter the element before which to insert: ");
                int element = sc.nextInt();
                dll.insertBefore(value, element);
            } else if (choice == 4) {
                System.out.println("Enter the value to insert: ");
                int value = sc.nextInt();
                System.out.println("Enter the element after which to insert: ");
                int element = sc.nextInt();
                dll.insertAfter(value, element);
            } else if (choice == 5) {
                System.out.println("Enter the value to insert at end: ");
                int value = sc.nextInt();
                dll.insertAtEnd(value);
            } else if (choice == 6) {
                dll.display();
            } else if (choice == 7) {
                dll.deleteAtFirst();
            } else if (choice == 8) {
                System.out.println("Enter the value to delete: ");
                int value = sc.nextInt();
                dll.deleteAtSpecified(value);
            } else if (choice == 9) {
                dll.deleteAtLast();
            } else if (choice == 10) {
                System.out.println("Enter the value to find: ");
                int value = sc.nextInt();
                if (dll.find(value)) {
                    System.out.println("Element found.");
                } else {
                    System.out.println("Element not found.");
                }
            } else if (choice == 11) {
                break;
            }
        }
        sc.close();
    }
}
